{"version":3,"file":"MobileHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","Avatar","LinkedLogo","Logo","messages","MobileHeader","_React$Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","renderUserMenuItems","_this$props","userMenu","intl","createElement","Fragment","className","href","concat","LMS_BASE_URL","formatMessage","map","_ref","type","content","additionalClass","target","renderLoggedOutItems","loggedOutItems","_ref2","i","arr","length","render","_this$props2","logo","logoAltText","logoDestination","loggedIn","avatar","username","stickyOnMobile","logoProps","src","alt","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","_extends","itemType","tag","title","size","Component","propTypes","mainMenu","oneOfType","node","array","arrayOf","shape","oneOf","string","bool","isRequired","defaultProps"],"sources":["../src/MobileHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from './Menu';\nimport Avatar from './Avatar';\nimport { LinkedLogo, Logo } from './Logo';\n\n// i18n\nimport messages from './Header.messages';\n\nclass MobileHeader extends React.Component {\n  constructor(props) { // eslint-disable-line no-useless-constructor\n    super(props);\n  }\n\n  renderUserMenuItems() {\n    const { userMenu, intl } = this.props;\n\n    return (\n      <>\n        <li className=\"nav-item\">\n          <a className=\"nav-link\" href={`${getConfig().LMS_BASE_URL}/courses`}>{intl.formatMessage(messages['header.links.courses'])}</a>\n        </li>\n        {userMenu.map(({\n          type, href, content, additionalClass, target,\n        }) => (\n          <li className=\"nav-item\" key={`${type}-${content}`}>\n            {type === 'title' ? (\n              <span className={`dropdown-section-name ${additionalClass}`}>{content}</span>\n            ) : (\n              <a className={`nav-link ${additionalClass}`} target={target} href={href}>{content}</a>\n            )}\n          </li>\n        ))}\n      </>\n    );\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n\n    return loggedOutItems.map(({ type, href, content }, i, arr) => (\n      <li className=\"nav-item px-3 my-2\" key={`${type}-${content}`}>\n        <a\n          className={i < arr.length - 1 ? 'btn btn-block btn-outline-primary' : 'btn btn-block btn-primary'}\n          href={href}\n        >\n          {content}\n        </a>\n      </li>\n    ));\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      avatar,\n      username,\n      stickyOnMobile,\n      intl,\n      userMenu,\n      loggedOutItems,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        <div className={`w-100 d-flex ${logoClasses}`}>\n          { logoDestination === null ? <Logo className=\"logo\" src={logo} alt={logoAltText} /> : <LinkedLogo className=\"logo\" {...logoProps} itemType=\"http://schema.org/Organization\" />}\n        </div>\n        {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-end align-items-center\">\n            <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n                title={intl.formatMessage(messages['header.label.account.menu'])}\n              >\n                <Avatar size=\"1.5rem\" src={avatar} alt={username} />\n              </MenuTrigger>\n              <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n                {loggedIn ? this.renderUserMenuItems() : this.renderLoggedOutItems()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n      </header>\n    );\n  }\n}\n\nMobileHeader.propTypes = {\n  mainMenu: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.array,\n  ]),\n\n  userMenu: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.oneOf(['item', 'menu']),\n    href: PropTypes.string,\n    content: PropTypes.string,\n  })),\n  loggedOutItems: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.oneOf(['item', 'menu']),\n    href: PropTypes.string,\n    content: PropTypes.string,\n  })),\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default injectIntl(MobileHeader);\n"],"mappings":"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"}